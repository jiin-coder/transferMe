{% extends "layout.html" %}

{% block content %}


<div class="container">

    <header class="post-header">
        <h4 class="title m-2" style="font-size:2rem">{{ article.title }}</h4>
    </header>

    <hr>

    <div class="m-3">{{ article.writer }}</div>

    <hr>

    <div class="m-3">{{ article.body|safe }}</div>

    <hr>

    <div class="m-3">{{ article.one_source }}</div>

    <hr>

    <div class="m-3">{{ article.information_source }}</div>

    <div class="row my-3">
        <div class="col-1"> <!-- 추천영역 -->
            <div class="text-center p-3 border font-weight-bolder mb-1">{{article.voter.count}}</div>
            <a href="#" data-uri="{% url 'board:vote_article' article.id %}"
               class="recommend btn btn-sm btn-secondary btn-block my-1">추천</a>
        </div>
    </div>

    {% if article.writer == request.user %}
    <div class="m-3" style="float:right;">
        <a href="{% url 'board:article_modify' article.id %}"
           class="btn btn-sm btn-outline-secondary" style="background-color:black; color:white;">수정</a>
        <a href="{% url 'board:article_delete' article.id%}" class="btn btn-sm btn-outline-secondary"
           style="color:black;"
           onclick="if ( confirm('정말 삭제하시겠습니까?') == false ) return false;">삭제</a>
    </div>
</div>
{% endif %}
{% endblock %}

{% block script %}
<script type='text/javascript'>
$(document).ready(function(){
    $(".recommend").on('click', function() {
        if(confirm("정말로 추천하시겠습니까?")) {
            location.href = $(this).data('uri');
        }
    });
});
</script>
{% endblock %}